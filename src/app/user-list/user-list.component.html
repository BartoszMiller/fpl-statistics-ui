<h1 class="mt-5">Fantasy League Statistics</h1>
<hr class="mb-4">

<div class="row">
  <div class="col-12 col-md-3 mb-3">
    <label for="seasonFrom">Season From</label>
    <select [(ngModel)]="fromSeason" (ngModelChange)="updatePlayers()" class="custom-select d-block w-100" id="seasonFrom">
      <option *ngFor="let s of seasons" [ngValue]="s">{{s.code}}</option>
    </select>
  </div>
  <div class="col-12 col-md-3 mb-3">
    <label for="roundFrom">Round From</label>
    <select [(ngModel)]="fromRound" (ngModelChange)="updatePlayers()" class="custom-select d-block w-100" id="roundFrom">
      <option *ngFor="let r of fromSeason.rounds" [value]="r.round">{{r.label}}</option>
    </select>
  </div>
  <div class="col-12 col-md-3 mb-3">
    <label for="seasonTo">Season To</label>
    <select [(ngModel)]="toSeason" (ngModelChange)="updatePlayers()" class="custom-select d-block w-100" id="seasonTo">
      <option *ngFor="let s of seasons" [ngValue]="s">{{s.code}}</option>
    </select>
  </div>
  <div class="col-12 col-md-3 mb-3">
    <label for="roundTo">Round To</label>
    <select [(ngModel)]="toRound" (ngModelChange)="updatePlayers()" class="custom-select d-block w-100"  id="roundTo">
      <option *ngFor="let r of toSeason.rounds" [value]="r.round">{{r.label}}</option>
    </select>
  </div>
</div>

<div class="row">
  <div class="col-12 col-md-3 mb-3">
    <label for="team">Team</label>
    <select [(ngModel)]="team" (ngModelChange)="updatePlayers()" class="custom-select d-block w-100" id="team">
      <option [ngValue]="undefined" selected>All teams</option>
      <option *ngFor="let t of teams" [ngValue]="t">{{t.name}}</option>
    </select>
  </div>
  <div class="col-12 col-md-3 mb-3">
    <label for="team">Position</label>
    <select [(ngModel)]="position" (ngModelChange)="updatePlayers()" class="custom-select d-block w-100" id="position">
      <option [ngValue]="undefined" selected>All positions</option>
      <option *ngFor="let p of positions" [ngValue]="p">{{p.name}}</option>
    </select>
  </div>
</div>
<hr class="mb-4">

<div class="card my-5">
  <div class="card-body">
    <table class="table table-bordered table-striped">
      <thead class="thead-dark">
      <tr>
        <th scope="col">#</th>
        <th scope="col">Name</th>
        <th scope="col">Email</th>
      </tr>
      </thead>
      <tbody>
      <tr *ngFor="let user of users">
        <td>{{ user.id }}</td>
        <td>{{ user.name }}</td>
        <td><a href="mailto:{{ user.email }}">{{ user.email }}</a></td>
      </tr>
      </tbody>
    </table>
  </div>
</div>
